<html><body bgcolor="#ffffff" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><i>This statement contains images which must be viewed in the applet.</i>
<p>A <i>Binary Search Tree (BST)</i> is a tree data structure which obeys the following properties:
<ul>
  <li>Each node has at most 2 children.</li>
  <li>Each node except the root has exactly 1 parent.</li>
  <li>There is exactly 1 root node. The root node does not have any parents. </li>
  <li>If a node has a left child, all values in the left subtree are less than or equal to the value of the node itself.</li>
  <li>If a node has a right child, all values in the right subtree are strictly greater than the value of the node itself.</li>
</ul>
</p>
<p>In this problem, nodes are identified starting from the root node as 1, and following in order with nodes at the next level, etc. See the figure below for clarification.</p>
<p>
<img src="http://www.topcoder.com/contest/problem/ConstructBST/bst.jpg"></img>
</p>
<p>You will be given a BST with one node value that is missing. You must determine the possible values that the node can represent so as to maintain a valid BST according to the above rules.</p>
<p>Create a class IncompleteBST that contains a method missingValues. The method takes a vector &lt;string&gt; <b>tree</b> as input and returns a string corresponding to the possible values (from among 'A' to 'Z') that the missing character can assume so as to maintain a valid BST. Each element of <b>tree</b> is formatted as follows: "CHARACTER INTEGER" (quotes for clarity only). That is, a single character followed by a single space followed by a single integer. The CHARACTER denotes the value of the particular node in the BST. In exactly one element of <b>tree</b>, CHARACTER will be '?', denoting the unknown missing value. The INTEGER denotes a particular node in the BST according to the above numbering scheme.</p>
<p>Note that <b>tree</b> will always contain a root node numbered 1. Furthermore, <b>tree</b> will represent a connected tree, that is, all nodes present in the tree will be reachable from the root node. The returned string must be sorted in ascending order and must contain distinct values only. If <b>tree</b> does not represent a valid BST, return an empty string; see the examples for clarification.</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>IncompleteBST</td></tr><tr><td>Method:</td><td>missingValues</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;</td></tr><tr><td>Returns:</td><td>string</td></tr><tr><td>Method signature:</td><td>string missingValues(vector &lt;string&gt; tree)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>tree</b> will contain between 1 and 20 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>tree</b> will represent a connected tree.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>tree</b> will be formatted as described, "CHARACTER INTEGER".</td></tr><tr><td align="center" valign="top">-</td><td>Each INTEGER will be an integer between 1 and 2<sup>20</sup>-1, inclusive, with no leading zeroes.</td></tr><tr><td align="center" valign="top">-</td><td>Exactly one INTEGER will be equal to 1. That is, there will be a root node in <b>tree</b>.</td></tr><tr><td align="center" valign="top">-</td><td>Each INTEGER in <b>tree</b> will be distinct.</td></tr><tr><td align="center" valign="top">-</td><td>Each CHARACTER will be an uppercase letter ('A'-'Z') or '?'.</td></tr><tr><td align="center" valign="top">-</td><td>Exactly one CHARACTER will be '?'.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;A 1&quot;, &quot;? 2&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;A&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">In this case, the tree consists of a root node and a single left child. Thus, the missing value can be any letter whose value is less than or equal to 'A', namely <tt>"A"</tt>.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;B 1&quot;, &quot;? 2&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;AB&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">This case is similar to the previous one, except the root value is now a 'B'. Thus, the left child can be any value less than or equal to 'B', namely <tt>"AB"</tt>.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;V 1&quot;, &quot;? 3&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;WXYZ&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;K 1&quot;, &quot;K 2&quot;, &quot;A 6&quot;, &quot;? 12&quot;, &quot;Y 3&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">The tree described by the input may not be a valid BST! In this case, the node with value 'A' cannot be in the subtree formed by the right child of the root node, since 'A' is a smaller value than 'K'.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;Z 1&quot;, &quot;Y 2&quot;, &quot;X 4&quot;, &quot;W 8&quot;, &quot;V 16&quot;, &quot;U 32&quot;, &quot;T 64&quot;, &quot;S 128&quot;, &quot;R 256&quot;, &quot;Q 512&quot;, 
&quot;P 1024&quot;, &quot;O 2048&quot;, &quot;N 4096&quot;, &quot;M 8192&quot;, &quot;L 16384&quot;, &quot;K 32768&quot;, &quot;J 65536&quot;, &quot;? 131072&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;ABCDEFGHIJ&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
